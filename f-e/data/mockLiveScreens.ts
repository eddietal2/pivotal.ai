// Mock data for Live Screens - 4 daily screens
import { LiveScreen } from '@/types/screens';

// Helper to generate mock sparkline data
const generateSparkline = (trend: 'up' | 'down' | 'volatile', points = 20): number[] => {
  const base = 100;
  const data: number[] = [];
  let value = base;
  
  for (let i = 0; i < points; i++) {
    if (trend === 'up') {
      value += Math.random() * 3 - 0.5;
    } else if (trend === 'down') {
      value -= Math.random() * 3 - 0.5;
    } else {
      value += Math.random() * 6 - 3;
    }
    data.push(Math.max(0, value));
  }
  return data;
};

// Get today's date at market open and close for refresh timing
const today = new Date();
const marketOpen = new Date(today);
marketOpen.setHours(9, 30, 0, 0);
const marketClose = new Date(today);
marketClose.setHours(16, 0, 0, 0);

export const mockLiveScreens: LiveScreen[] = [
  {
    id: 'morning-movers',
    title: 'Morning Movers',
    description: 'Top pre-market gainers with high volume',
    icon: 'ğŸš€',
    category: 'momentum',
    generatedAt: marketOpen.toISOString(),
    expiresAt: marketClose.toISOString(),
    refreshInterval: 30, // Refresh every 30 minutes
    stocks: [
      {
        symbol: 'NVDA',
        name: 'NVIDIA Corporation',
        price: 878.35,
        change: 5.24,
        valueChange: 43.72,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'Gap up on strong AI demand',
        rank: 1,
        score: 94,
        signals: ['Volume Surge', 'Gap Up', 'Sector Leader'],
      },
      {
        symbol: 'SMCI',
        name: 'Super Micro Computer',
        price: 892.15,
        change: 4.87,
        valueChange: 41.38,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'AI infrastructure momentum',
        rank: 2,
        score: 91,
        signals: ['Breakout', 'High Volume'],
      },
      {
        symbol: 'AMD',
        name: 'Advanced Micro Devices',
        price: 178.92,
        change: 3.65,
        valueChange: 6.29,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'Chip sector strength',
        rank: 3,
        score: 88,
        signals: ['Sector Momentum', 'Analyst Upgrade'],
      },
      {
        symbol: 'PLTR',
        name: 'Palantir Technologies',
        price: 24.56,
        change: 3.42,
        valueChange: 0.81,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'Government contract news',
        rank: 4,
        score: 85,
        signals: ['News Catalyst', 'Volume Spike'],
      },
      {
        symbol: 'COIN',
        name: 'Coinbase Global',
        price: 182.34,
        change: 2.98,
        valueChange: 5.27,
        sparkline: generateSparkline('volatile'),
        timeframe: 'day',
        screenReason: 'Crypto rally correlation',
        rank: 5,
        score: 82,
        signals: ['Sector Play', 'BTC Correlation'],
      },
    ],
  },
  {
    id: 'sector-rotation',
    title: 'Sector Rotation',
    description: "Today's hottest sector with top performers",
    icon: 'ğŸ­',
    category: 'sector',
    generatedAt: marketOpen.toISOString(),
    expiresAt: marketClose.toISOString(),
    stocks: [
      {
        symbol: 'XLK',
        name: 'Technology Select Sector',
        price: 198.45,
        change: 2.15,
        valueChange: 4.18,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'Sector ETF leading',
        rank: 1,
        score: 90,
        signals: ['Sector Rotation', 'Fund Inflows'],
      },
      {
        symbol: 'MSFT',
        name: 'Microsoft Corporation',
        price: 412.78,
        change: 1.92,
        valueChange: 7.78,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'Cloud growth catalyst',
        rank: 2,
        score: 88,
        signals: ['Mega Cap', 'Steady Growth'],
      },
      {
        symbol: 'AAPL',
        name: 'Apple Inc.',
        price: 189.34,
        change: 1.45,
        valueChange: 2.71,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'iPhone demand strength',
        rank: 3,
        score: 85,
        signals: ['Consumer Demand', 'Services Growth'],
      },
      {
        symbol: 'GOOGL',
        name: 'Alphabet Inc.',
        price: 156.78,
        change: 1.23,
        valueChange: 1.91,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'AI search integration',
        rank: 4,
        score: 83,
        signals: ['AI Integration', 'Ad Revenue'],
      },
    ],
  },
  {
    id: 'short-squeeze',
    title: 'Short Squeeze Candidates',
    description: 'High short interest with bullish signals',
    icon: 'ğŸ»',
    category: 'unusual',
    generatedAt: marketOpen.toISOString(),
    expiresAt: marketClose.toISOString(),
    stocks: [
      {
        symbol: 'GME',
        name: 'GameStop Corp',
        price: 17.82,
        change: 8.45,
        valueChange: 1.39,
        sparkline: generateSparkline('volatile'),
        timeframe: 'day',
        screenReason: '42% short interest, volume spike',
        rank: 1,
        score: 78,
        signals: ['High SI', 'Volume 3x Avg', 'Social Buzz'],
      },
      {
        symbol: 'AMC',
        name: 'AMC Entertainment',
        price: 5.24,
        change: 6.73,
        valueChange: 0.33,
        sparkline: generateSparkline('volatile'),
        timeframe: 'day',
        screenReason: '28% short interest rising',
        rank: 2,
        score: 72,
        signals: ['High SI', 'Retail Interest'],
      },
      {
        symbol: 'CVNA',
        name: 'Carvana Co.',
        price: 58.92,
        change: 5.21,
        valueChange: 2.92,
        sparkline: generateSparkline('volatile'),
        timeframe: 'day',
        screenReason: 'Short covering rally',
        rank: 3,
        score: 70,
        signals: ['Short Covering', 'Turnaround Play'],
      },
      {
        symbol: 'BBBY',
        name: 'Bed Bath & Beyond',
        price: 2.15,
        change: 4.88,
        valueChange: 0.10,
        sparkline: generateSparkline('volatile'),
        timeframe: 'day',
        screenReason: '35% SI, bankruptcy play',
        rank: 4,
        score: 65,
        signals: ['Extremely High SI', 'High Risk'],
      },
    ],
  },
  {
    id: 'oversold-bounces',
    title: 'Oversold Bounces',
    description: 'Stocks with RSI < 30 showing reversal signals',
    icon: 'ğŸ“‰',
    category: 'technical',
    generatedAt: marketOpen.toISOString(),
    expiresAt: marketClose.toISOString(),
    stocks: [
      {
        symbol: 'NKE',
        name: 'Nike Inc.',
        price: 98.45,
        change: 2.34,
        valueChange: 2.25,
        sparkline: generateSparkline('down'),
        timeframe: 'day',
        screenReason: 'RSI 24, bullish divergence',
        rank: 1,
        score: 86,
        signals: ['RSI Oversold', 'Bullish Divergence', 'Support Hold'],
      },
      {
        symbol: 'DIS',
        name: 'Walt Disney Co.',
        price: 89.23,
        change: 1.87,
        valueChange: 1.64,
        sparkline: generateSparkline('down'),
        timeframe: 'day',
        screenReason: 'RSI 28, near 52-week support',
        rank: 2,
        score: 82,
        signals: ['RSI Oversold', '52W Support', 'Value Zone'],
      },
      {
        symbol: 'BA',
        name: 'Boeing Co.',
        price: 178.56,
        change: 1.45,
        valueChange: 2.55,
        sparkline: generateSparkline('down'),
        timeframe: 'day',
        screenReason: 'RSI 26, hammer candle',
        rank: 3,
        score: 79,
        signals: ['RSI Oversold', 'Reversal Pattern'],
      },
      {
        symbol: 'PYPL',
        name: 'PayPal Holdings',
        price: 62.18,
        change: 1.23,
        valueChange: 0.76,
        sparkline: generateSparkline('down'),
        timeframe: 'day',
        screenReason: 'RSI 29, double bottom forming',
        rank: 4,
        score: 76,
        signals: ['RSI Oversold', 'Double Bottom', 'Volume Increase'],
      },
      {
        symbol: 'INTC',
        name: 'Intel Corporation',
        price: 42.34,
        change: 0.98,
        valueChange: 0.41,
        sparkline: generateSparkline('down'),
        timeframe: 'day',
        screenReason: 'RSI 27, sector laggard bounce',
        rank: 5,
        score: 73,
        signals: ['RSI Oversold', 'Sector Lag Play'],
      },
    ],
  },
  {
    id: 'value-plays',
    title: 'Value Plays',
    description: 'Low P/E stocks near 52-week lows',
    icon: 'ğŸ’',
    category: 'value',
    generatedAt: marketOpen.toISOString(),
    expiresAt: marketClose.toISOString(),
    stocks: [
      {
        symbol: 'VZ',
        name: 'Verizon Communications',
        price: 38.45,
        change: 0.82,
        valueChange: 0.31,
        sparkline: generateSparkline('down'),
        timeframe: 'day',
        screenReason: 'P/E 7.2, 7% dividend yield',
        rank: 1,
        score: 88,
        signals: ['Low P/E', 'High Dividend', '52W Low'],
      },
      {
        symbol: 'T',
        name: 'AT&T Inc.',
        price: 17.23,
        change: 0.64,
        valueChange: 0.11,
        sparkline: generateSparkline('down'),
        timeframe: 'day',
        screenReason: 'P/E 6.8, near multi-year support',
        rank: 2,
        score: 85,
        signals: ['Low P/E', 'Dividend Play', 'Support Zone'],
      },
      {
        symbol: 'WBA',
        name: 'Walgreens Boots Alliance',
        price: 21.56,
        change: 1.12,
        valueChange: 0.24,
        sparkline: generateSparkline('down'),
        timeframe: 'day',
        screenReason: 'P/E 5.4, turnaround potential',
        rank: 3,
        score: 78,
        signals: ['Deep Value', 'Turnaround', 'Insider Buying'],
      },
      {
        symbol: 'F',
        name: 'Ford Motor Co.',
        price: 11.87,
        change: 0.95,
        valueChange: 0.11,
        sparkline: generateSparkline('volatile'),
        timeframe: 'day',
        screenReason: 'P/E 6.1, EV transition play',
        rank: 4,
        score: 74,
        signals: ['Low P/E', 'EV Exposure', 'Dividend'],
      },
    ],
  },
  {
    id: 'volatility-squeeze',
    title: 'Volatility Squeeze',
    description: 'Tight Bollinger Bands about to expand',
    icon: 'âš¡',
    category: 'volatility',
    generatedAt: marketOpen.toISOString(),
    expiresAt: marketClose.toISOString(),
    stocks: [
      {
        symbol: 'RIVN',
        name: 'Rivian Automotive',
        price: 18.34,
        change: 0.45,
        valueChange: 0.08,
        sparkline: generateSparkline('volatile'),
        timeframe: 'day',
        screenReason: 'BB width at 6-month low, coiling',
        rank: 1,
        score: 82,
        signals: ['BB Squeeze', 'Low Volatility', 'Breakout Setup'],
      },
      {
        symbol: 'SNAP',
        name: 'Snap Inc.',
        price: 11.23,
        change: 0.38,
        valueChange: 0.04,
        sparkline: generateSparkline('volatile'),
        timeframe: 'day',
        screenReason: 'Consolidating in tight range',
        rank: 2,
        score: 79,
        signals: ['BB Squeeze', 'Range Bound', 'Earnings Soon'],
      },
      {
        symbol: 'HOOD',
        name: 'Robinhood Markets',
        price: 9.87,
        change: 0.52,
        valueChange: 0.05,
        sparkline: generateSparkline('volatile'),
        timeframe: 'day',
        screenReason: 'Volatility compression, watch for break',
        rank: 3,
        score: 76,
        signals: ['BB Squeeze', 'Crypto Correlation'],
      },
      {
        symbol: 'SOFI',
        name: 'SoFi Technologies',
        price: 8.45,
        change: 0.62,
        valueChange: 0.05,
        sparkline: generateSparkline('volatile'),
        timeframe: 'day',
        screenReason: 'Tight consolidation, momentum building',
        rank: 4,
        score: 73,
        signals: ['BB Squeeze', 'Fintech Play', 'Volume Dry Up'],
      },
    ],
  },
  {
    id: 'unusual-volume',
    title: 'Unusual Volume',
    description: 'Stocks trading 3x+ their average volume',
    icon: 'ğŸ”¥',
    category: 'unusual',
    generatedAt: marketOpen.toISOString(),
    expiresAt: marketClose.toISOString(),
    refreshInterval: 15, // Refresh every 15 minutes
    stocks: [
      {
        symbol: 'MARA',
        name: 'Marathon Digital',
        price: 24.56,
        change: 12.34,
        valueChange: 2.69,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'Volume 8x average, BTC rally',
        rank: 1,
        score: 85,
        signals: ['Volume 8x', 'BTC Correlation', 'Momentum'],
      },
      {
        symbol: 'RIOT',
        name: 'Riot Platforms',
        price: 15.78,
        change: 9.87,
        valueChange: 1.42,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'Volume 6x average, crypto sympathy',
        rank: 2,
        score: 82,
        signals: ['Volume 6x', 'Crypto Mining', 'Breakout'],
      },
      {
        symbol: 'BBAI',
        name: 'BigBear.ai Holdings',
        price: 3.45,
        change: 15.67,
        valueChange: 0.47,
        sparkline: generateSparkline('volatile'),
        timeframe: 'day',
        screenReason: 'Volume 12x, contract announcement',
        rank: 3,
        score: 78,
        signals: ['Volume 12x', 'News Catalyst', 'AI Play'],
      },
      {
        symbol: 'JOBY',
        name: 'Joby Aviation',
        price: 6.23,
        change: 8.45,
        valueChange: 0.48,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'Volume 5x, FAA approval news',
        rank: 4,
        score: 75,
        signals: ['Volume 5x', 'eVTOL', 'Regulatory Catalyst'],
      },
    ],
  },
  {
    id: 'breakout-watch',
    title: 'Breakout Watch',
    description: 'Stocks approaching key resistance levels',
    icon: 'ğŸ“Š',
    category: 'technical',
    generatedAt: marketOpen.toISOString(),
    expiresAt: marketClose.toISOString(),
    stocks: [
      {
        symbol: 'META',
        name: 'Meta Platforms',
        price: 498.23,
        change: 2.15,
        valueChange: 10.49,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'Testing $500 resistance, 4th attempt',
        rank: 1,
        score: 89,
        signals: ['Key Resistance', 'Volume Building', 'Bullish Pattern'],
      },
      {
        symbol: 'NFLX',
        name: 'Netflix Inc.',
        price: 478.56,
        change: 1.89,
        valueChange: 8.88,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'Approaching 52-week high',
        rank: 2,
        score: 86,
        signals: ['52W High', 'Earnings Beat', 'Momentum'],
      },
      {
        symbol: 'CRM',
        name: 'Salesforce Inc.',
        price: 278.34,
        change: 1.45,
        valueChange: 3.98,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'Cup and handle forming at $280',
        rank: 3,
        score: 83,
        signals: ['Cup & Handle', 'AI Integration', 'Cloud Growth'],
      },
      {
        symbol: 'UBER',
        name: 'Uber Technologies',
        price: 68.92,
        change: 1.67,
        valueChange: 1.13,
        sparkline: generateSparkline('up'),
        timeframe: 'day',
        screenReason: 'Breaking above $69 trendline',
        rank: 4,
        score: 80,
        signals: ['Trendline Break', 'Profitability', 'Growth'],
      },
    ],
  },
];

// Helper function to get time until refresh
export function getTimeUntilRefresh(expiresAt: string): string {
  const now = new Date();
  const expires = new Date(expiresAt);
  const diff = expires.getTime() - now.getTime();
  
  if (diff <= 0) return 'Refreshing...';
  
  const hours = Math.floor(diff / (1000 * 60 * 60));
  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
  
  if (hours > 0) {
    return `${hours}h ${minutes}m`;
  }
  return `${minutes}m`;
}
